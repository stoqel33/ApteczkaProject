(this["webpackJsonpapteczka-projekt"]=this["webpackJsonpapteczka-projekt"]||[]).push([[0],{56:function(e,n,t){e.exports=t(82)},82:function(e,n,t){"use strict";t.r(n);var a=t(0),i=t.n(a),o=t(22),r=t.n(o),c=t(17),l=t(14),d=t(8),m=t(18),p=t(43),u=t(31),s=t(25),h={refresh:!1,isLoading:!1,response:!0},f=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:h,n=arguments.length>1?arguments[1]:void 0;switch(n.type){case"FETCH_REQUEST":return{isLoading:!0,response:!0,refresh:!1};case"FETCH_SUCCESS":return{medicines:Object(s.a)(n.payload.data),isLoading:!1,response:!0,refresh:!1};case"ADD_MED_SUCCESS":return{medicines:[].concat(Object(s.a)(e.medicines),[n.payload.data]),response:!0,refresh:!1};case"CHANGE_MED_SUCCESS":var t=Object(u.a)({},e);return t.medicines.forEach((function(e){e._id===n.payload.id&&(e.name=n.payload.data.name,e.amount=n.payload.data.amount,e.expiryDate=n.payload.data.expiryDate)})),{medicines:t.medicines,response:!0,refresh:!1};case"REMOVE_MED_SUCCESS":return{medicines:Object(s.a)(e.medicines.filter((function(e){return e._id!==n.payload.id}))),response:!0,refresh:!1};case"REMOVE_ONE_MED_SUCCESS":var a=Object(u.a)({},e);return a.medicines.forEach((function(e){e._id===n.payload.id&&(e.name=n.payload.data.name,e.amount=n.payload.data.amount,e.expiryDate=n.payload.data.expiryDate)})),{refresh:!0,isLoading:!1,response:!0,medicines:a.medicines};case"FETCH_FAILURE":return{response:!1};default:return e}},b=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||m.c,E=Object(m.d)(f,b(Object(m.a)(p.a))),g=t(44),y=t(1);function _(){var e=Object(g.a)(["\n  *{\n    margin: 0;\n    padding: 0;\n    box-sizing: border-box;\n  }\n\n  html{\n    font-size: 62.5%;\n  }\n\n  body{\n    font-size: 1.6rem;\n    font-family: 'Montserrat', sans-serif;\n    background: linear-gradient(135deg, rgba(97,13,103,1) 41%, rgba(167,98,98,1) 100%);\n    min-height: 100vh;\n\n    @media screen and (min-width: 800px) {\n        max-width: 800px;\n        margin: 0 auto;\n      }\n    }\n\n  textarea:focus,\n  input:focus,\n  button:focus {\n    outline: none;\n  }\n\n  input[type='number']::-webkit-outer-spin-button,\n  input[type='number']::-webkit-inner-spin-button {\n    -webkit-appearance: none;\n    margin: 0;\n  }\n\n  input[type='number'] {\n    -moz-appearance: textfield;\n  }\n"]);return _=function(){return e},e}var x=Object(y.a)(_()),w=t(48),C=t(49),k=t(53),j=t(54),z=t(20),v=t.n(z),M=Object(y.b)(c.b).withConfig({displayName:"Link",componentId:"sc-1cmzxpj-0"})(["text-decoration:none;color:inherit;"]),S=y.b.div.withConfig({displayName:"MedicineItem__Wrapper",componentId:"nth634-0"})(["display:flex;flex-direction:column;padding:20px 50px;margin-bottom:20px;background-color:rgba(245,245,245,0.3);border-radius:10%;&:last-child{margin-bottom:30px;}"]),I=y.b.span.withConfig({displayName:"MedicineItem__Title",componentId:"nth634-1"})(["font-size:18px;margin-bottom:7px;&:last-child{margin-bottom:0;}"]),N=Object(y.b)(I).withConfig({displayName:"MedicineItem__TitleName",componentId:"nth634-2"})(["font-size:25px;"]),O=y.b.span.withConfig({displayName:"MedicineItem__Value",componentId:"nth634-3"})(["margin-left:8px;font-weight:700;"]),A=y.b.button.withConfig({displayName:"MedicineItem__BtnDrug",componentId:"nth634-4"})(["font-size:18px;border:none;background-color:transparent;cursor:pointer;"]),D=y.b.div.withConfig({displayName:"MedicineItem__Options",componentId:"nth634-5"})(["display:flex;justify-content:space-evenly;"]),F=Object(d.b)(null,(function(e){return{takePill:function(n){return e(function(e){return function(n){n({type:"REMOVE_ONE_MED_REQUEST"}),v.a.put("http://localhost:3000/ApteczkaProject/takePill/".concat(e)).then((function(t){var a=t.data;n({type:"REMOVE_ONE_MED_SUCCESS",payload:{data:a,id:e}})}))}}(n))}}}))((function(e){var n=e.id,t=e.name,a=e.amount,o=e.date,r=e.takePill;return i.a.createElement(S,null,i.a.createElement(N,null,"Lek ",i.a.createElement(O,null,t)),i.a.createElement(I,null,"Ilo\u015b\u0107 ",i.a.createElement(O,null,a)),i.a.createElement(I,null,"Data wa\u017cno\u015bci ",i.a.createElement(O,null,o.slice(0,10))),i.a.createElement(D,null,i.a.createElement(M,{to:"/ApteczkaProject/editMedicine/".concat(n)},i.a.createElement("span",null,"edytuj")),i.a.createElement(A,{onClick:function(){a>0&&r(n)}},"Za\u017cyj")))})),U=y.b.div.withConfig({displayName:"Medicine__Wrapper",componentId:"sc-4zi35c-0"})(["display:flex;flex-direction:column;min-height:100vh;text-align:center;"]),P=y.b.h1.withConfig({displayName:"Medicine__Title",componentId:"sc-4zi35c-1"})(["margin-top:20px;color:white;"]),T=y.b.h1.withConfig({displayName:"Medicine__Empty",componentId:"sc-4zi35c-2"})(["margin:50px 20px;padding:100px 40px;background-color:rgba(245,245,245,0.3);border-radius:10%;color:black;"]),L=y.b.button.withConfig({displayName:"Medicine__ButtonAddNew",componentId:"sc-4zi35c-3"})(["width:100%;margin-bottom:20px;font-size:35px;color:white;background-color:transparent;border:none;"]),R=function(e){Object(j.a)(t,e);var n=Object(k.a)(t);function t(){return Object(w.a)(this,t),n.apply(this,arguments)}return Object(C.a)(t,[{key:"componentDidMount",value:function(){(0,this.props.fetchMed)()}},{key:"componentDidUpdate",value:function(e,n){var t=this.props.refresh,a=this.props.fetchMed;t!==e.refresh&&a()}},{key:"render",value:function(){var e=this.props,n=e.medicines,t=e.isLoading,a=e.response;return i.a.createElement(i.a.Fragment,null,a?t?i.a.createElement("h1",null,"Wczytywanie"):i.a.createElement(U,null,i.a.createElement(P,null,"Apteczka"),n.length>0?n.map((function(e){var n=e.name,t=e.amount,a=e.expiryDate,o=e._id;return i.a.createElement(F,{key:o,id:o,name:n,amount:t,date:a})})):i.a.createElement(T,null,"Brak lek\xf3w"),i.a.createElement(L,null,i.a.createElement(M,{to:"/ApteczkaProject/addMedicine"},"Dodaj nowy lek"))):i.a.createElement("h1",null,"Sorry, database is down"))}}]),t}(i.a.Component);R.defaultProps={medicines:[]};var H=Object(d.b)((function(e){return{medicines:e.medicines,isLoading:e.isLoading,response:e.response,refresh:e.refresh}}),(function(e){return{fetchMed:function(){return e((function(e){return e({type:"FETCH_REQUEST"}),v.a.get("http://localhost:3000/ApteczkaProject/").then((function(n){var t=n.data;e({type:"FETCH_SUCCESS",payload:{data:t}})})).catch((function(n){console.log(n),e({type:"FETCH_FAILURE"})}))}))}}}))(R),V=t(19),W=y.b.div.withConfig({displayName:"FormAdd__Wrapper",componentId:"sc-1u94h8d-0"})(["display:flex;flex-direction:column;align-items:center;min-height:100vh;"]),B=y.b.label.withConfig({displayName:"FormAdd__MedicineLabel",componentId:"sc-1u94h8d-1"})(["display:flex;justify-content:space-between;align-items:center;@media screen and (min-width:800px){.medicineLabel{margin:0 80px;}}"]),Q=y.b.h1.withConfig({displayName:"FormAdd__Title",componentId:"sc-1u94h8d-2"})(["margin:20px 0;color:white;"]),Z=y.b.input.withConfig({displayName:"FormAdd__Input",componentId:"sc-1u94h8d-3"})(["color:white;padding:10px 0 10px 15px;margin-right:10px;background-color:transparent;border:none;border-left:1px solid black;border-bottom:1px solid black;::placeholder{font-size:300;color:white;}"]),G=Object(y.b)(Z).withConfig({displayName:"FormAdd__InputAmount",componentId:"sc-1u94h8d-4"})(["width:50px;"]),J=y.b.h2.withConfig({displayName:"FormAdd__TitleMed",componentId:"sc-1u94h8d-5"})(["font-size:20px;margin-left:10px;"]),X=Object(y.b)(V.a).withConfig({displayName:"FormAdd__Forms",componentId:"sc-1u94h8d-6"})(["width:100%;"]),q=y.b.div.withConfig({displayName:"FormAdd__WrapperMedicine",componentId:"sc-1u94h8d-7"})(["padding:20px 5px;margin:30px 0;background:rgba(245,245,245,0.3);"]),K=y.b.button.withConfig({displayName:"FormAdd__ButtonAdd",componentId:"sc-1u94h8d-8"})(["width:250px;height:50px;margin:20px auto 0 auto;letter-spacing:2px;font-size:20px;font-weight:700;color:#a55f62;border:2px solid black;background-color:black;line-height:45px;text-align:center;"]),Y=Object(d.b)(null,(function(e){return{addMed:function(n){return e(function(e){return function(n){return n({type:"ADD_MED_REQUEST"}),v.a.post("http://localhost:3000/ApteczkaProject/addMedicine",{type:e}).then((function(e){var t=e.data;n({type:"ADD_MED_SUCCESS",payload:{data:t}})}))}}(n))}}}))((function(e){var n=e.addMed,t=(new Date).toISOString().slice(0,10),a=Object(l.f)();return i.a.createElement(W,null,i.a.createElement(Q,null,"Dodaj Lek"),i.a.createElement(V.b,{initialValues:{name:"",amount:"",date:t,show:!0},validate:function(e){var n={};return e.name?/[^a-zA-Z]+/i.test(e.name)&&(n.name="Nazwa zawiera niedozwolone znaki"):n.name="Wpisz nazw\u0119 leku!",e.amount?e.amount<0&&(n.amount="Podaj poprawn\u0105 ilo\u015b\u0107"):n.amount="Podaj ilo\u015b\u0107 leku!",e.date?e.date<t&&(n.date="Nie mo\u017cesz wprowadzi\u0107 starego leku"):n.date="Podaj dat\u0119 wa\u017cno\u015bci!",n},onSubmit:function(e){e.name=e.name.charAt(0).toUpperCase()+e.name.slice(1),n(e),a.push("/ApteczkaProject")}},(function(e){var n=e.values,t=e.errors,a=e.touched,o=e.handleChange,r=e.handleSubmit,c=e.isSubmitting;return i.a.createElement(X,{onSubmit:r},i.a.createElement(q,null,i.a.createElement(B,null,i.a.createElement(J,null,"Nazwa"),i.a.createElement(Z,{name:"name",type:"text",placeholder:"Nazwa leku",autoComplete:"off",onChange:o,value:n.name}),t.name&&a.name&&t.name)),i.a.createElement(q,null,i.a.createElement(B,null,i.a.createElement(J,null,"Ilo\u015b\u0107"),i.a.createElement(G,{name:"amount",type:"number",placeholder:"0",autoComplete:"off",onChange:o,value:n.amount}),t.amount&&a.amount&&t.amount)),i.a.createElement(q,null,i.a.createElement(B,null,i.a.createElement(J,null,"Data wa\u017cno\u015bci"),i.a.createElement(Z,{name:"date",type:"date",onChange:o,value:n.date}),t.date&&a.date&&t.date)),i.a.createElement(K,{type:"submit",disabled:c},"Dodaj lek"))})))})),$=function(){return i.a.createElement(i.a.Fragment,null,i.a.createElement(Y,null))},ee=y.b.div.withConfig({displayName:"FormEdit__Wrapper",componentId:"yhj9m5-0"})(["display:flex;flex-direction:column;align-items:center;min-height:100vh;"]),ne=y.b.h1.withConfig({displayName:"FormEdit__Title",componentId:"yhj9m5-1"})(["margin:20px 0;color:white;"]),te=y.b.label.withConfig({displayName:"FormEdit__MedicineLabel",componentId:"yhj9m5-2"})(["display:flex;justify-content:space-between;align-items:center;@media screen and (min-width:800px){.medicineLabel{margin:0 80px;}}"]),ae=y.b.input.withConfig({displayName:"FormEdit__Input",componentId:"yhj9m5-3"})(["color:white;padding:10px 0 10px 15px;margin-right:10px;background-color:transparent;border:none;border-left:1px solid black;border-bottom:1px solid black;::placeholder{font-size:300;color:white;}"]),ie=Object(y.b)(ae).withConfig({displayName:"FormEdit__InputAmount",componentId:"yhj9m5-4"})(["width:50px;"]),oe=y.b.h2.withConfig({displayName:"FormEdit__TitleMed",componentId:"yhj9m5-5"})(["font-size:20px;margin-left:10px;"]),re=Object(y.b)(V.a).withConfig({displayName:"FormEdit__Forms",componentId:"yhj9m5-6"})(["width:100%;"]),ce=y.b.div.withConfig({displayName:"FormEdit__WrapperMedicine",componentId:"yhj9m5-7"})(["padding:20px 5px;margin:30px 0;background:rgba(245,245,245,0.3);"]),le=y.b.button.withConfig({displayName:"FormEdit__ButtonAdd",componentId:"yhj9m5-8"})(["width:100%;height:50px;margin-top:20px;letter-spacing:2px;font-size:20px;font-weight:700;color:#a55f62;border:2px solid black;background-color:black;list-style:none;text-decoration:none;line-height:45px;text-align:center;cursor:pointer;"]),de=Object(y.b)(le).withConfig({displayName:"FormEdit__ButtonRemove",componentId:"yhj9m5-9"})(["width:200px;line-height:40px;height:40px;font-size:18px;"]),me=Object(d.b)(null,(function(e){return{changeMed:function(n,t){return e(function(e,n){return function(t){return t({type:"CHANGE_MED_REQUEST"}),v.a.post("http://localhost:3000/ApteczkaProject/editMedicine/update/".concat(n),{type:e}).then((function(e){var a=e.data;t({type:"CHANGE_MED_SUCCESS",payload:{data:a,id:n}})})).catch((function(e){console.log(e),t({type:"FETCH_FAILURE"})}))}}(n,t))},removeMed:function(n){return e(function(e){return function(n){n({type:"REMOVE_MED_REQUEST"}),v.a.delete("http://localhost:3000/ApteczkaProject/editMedicine/".concat(e)).then((function(){n({type:"REMOVE_MED_SUCCESS",payload:{id:e}})}))}}(n))}}}))((function(e){var n=e.medicine,t=e.changeMed,a=e.removeMed,o=(new Date).toISOString().slice(0,10),r=Object(l.f)(),c=function(){r.push("/ApteczkaProject")};return i.a.createElement(ee,null,i.a.createElement(ne,null,"Edytuj Lek"),i.a.createElement(V.b,{initialValues:{name:n[0].name,amount:n[0].amount,date:n[0].expiryDate.slice(0,10)},validate:function(e){var n={};return e.name?/[^a-zA-Z]+/i.test(e.name)&&(n.name="Nazwa zawiera niedozwolone znaki"):n.name="Wpisz nazw\u0119 leku!",e.amount?e.amount<0&&(n.amount="Podaj poprawn\u0105 ilo\u015b\u0107"):n.amount="Podaj ilo\u015b\u0107 leku!",e.date?e.date<o&&(n.date="Nie mo\u017cesz wprowadzi\u0107 starego leku"):n.date="Podaj dat\u0119 wa\u017cno\u015bci!",n},onSubmit:function(e){e.name=e.name.charAt(0).toUpperCase()+e.name.slice(1),t(e,n[0]._id),c()}},(function(e){var n=e.values,t=e.errors,a=e.touched,o=e.handleChange,r=e.handleSubmit,c=e.isSubmitting;return i.a.createElement(re,{onSubmit:r},i.a.createElement(ce,null,i.a.createElement(te,null,i.a.createElement(oe,null,"Nazwa"),i.a.createElement(ae,{name:"name",type:"text",autoComplete:"off",onChange:o,value:n.name}),t.name&&a.name&&t.name)),i.a.createElement(ce,null,i.a.createElement(te,null,i.a.createElement(oe,null,"Ilo\u015b\u0107"),i.a.createElement(ie,{name:"amount",type:"number",placeholder:"0",autoComplete:"off",onChange:o,value:n.amount}),t.amount&&a.amount&&t.amount)),i.a.createElement(ce,null,i.a.createElement(te,null,i.a.createElement(oe,null,"Data wa\u017cno\u015bci"),i.a.createElement(ae,{name:"date",type:"date",onChange:o,value:n.date}),t.date&&a.date&&t.date)),i.a.createElement(le,{type:"submit",disabled:c},"Zapisz i wyjdz"))})),i.a.createElement(de,{onClick:function(){a(n[0]._id),c()}},"Usu\u0144 lek"))})),pe=Object(d.b)((function(e,n){var t=e.medicines,a=n.match.params.id;return{medicine:t.filter((function(e){return e._id===a}))}}))((function(e){var n=e.medicine;return i.a.createElement(i.a.Fragment,null,i.a.createElement(me,{medicine:n}))})),ue=function(){return i.a.createElement(d.a,{store:E},i.a.createElement(c.a,null,i.a.createElement(x,null),i.a.createElement(l.c,null,i.a.createElement(l.a,{exact:!0,path:"/ApteczkaProject",component:H}),i.a.createElement(l.a,{path:"/ApteczkaProject/addMedicine",component:$}),i.a.createElement(l.a,{path:"/ApteczkaProject/editMedicine/:id",component:pe}))))};r.a.render(i.a.createElement(ue,null),document.getElementById("root"))}},[[56,1,2]]]);
//# sourceMappingURL=main.a26572c0.chunk.js.map