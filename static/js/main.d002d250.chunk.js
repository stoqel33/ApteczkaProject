(this["webpackJsonpapteczka-projekt"]=this["webpackJsonpapteczka-projekt"]||[]).push([[0],{40:function(e,t,n){e.exports=n(66)},66:function(e,t,n){"use strict";n.r(t);var a=n(0),i=n.n(a),o=n(33),l=n.n(o),c=n(38),r=n(11),d=n(12),m=n(13),p=n(14),u=n(19),s=n(7),h=i.a.createContext(),g=n(9),f=n.n(g),b=n(18),y=n(1);function x(){var e=Object(b.a)(["\n  *{\n    margin: 0;\n    padding: 0;\n    box-sizing: border-box;\n  }\n\n  html{\n    font-size: 62.5%;\n  }\n\n  body{\n    font-size: 1.6rem;\n    font-family: 'Montserrat', sans-serif;\n    background: linear-gradient(135deg, rgba(97,13,103,1) 41%, rgba(167,98,98,1) 100%);\n    min-height: 100vh;\n\n    @media screen and (min-width: 800px) {\n        max-width: 800px;\n        margin: 0 auto;\n      }\n    }\n\n  textarea:focus,\n  input:focus,\n  button:focus {\n    outline: none;\n  }\n\n  input[type='number']::-webkit-outer-spin-button,\n  input[type='number']::-webkit-inner-spin-button {\n    -webkit-appearance: none;\n    margin: 0;\n  }\n\n  input[type='number'] {\n    -moz-appearance: textfield;\n  }\n"]);return x=function(){return e},e}var v=Object(y.a)(x()),E=Object(y.b)(u.b).withConfig({displayName:"Link",componentId:"sc-1cmzxpj-0"})(["text-decoration:none;color:inherit;"]),C=y.b.div.withConfig({displayName:"Item__Wrapper",componentId:"sc-1qmifbg-0"})(["display:flex;flex-direction:column;padding:20px 40px;margin-bottom:20px;background-color:rgba(245,245,245,0.3);border-radius:10%;&:last-child{margin-bottom:30px;}"]),w=y.b.span.withConfig({displayName:"Item__Title",componentId:"sc-1qmifbg-1"})(["font-size:18px;margin-bottom:7px;&:last-child{margin-bottom:0;}"]),k=Object(y.b)(w).withConfig({displayName:"Item__TitleName",componentId:"sc-1qmifbg-2"})(["font-size:25px;"]),M=y.b.span.withConfig({displayName:"Item__Value",componentId:"sc-1qmifbg-3"})(["margin-left:8px;font-weight:700;"]),j=function(e){var t=e.id,n=e.name,a=e.amount,o=e.date;return i.a.createElement(C,null,i.a.createElement(k,null,"Lek ",i.a.createElement(M,null,n)),i.a.createElement(w,null,"Ilo\u015b\u0107 ",i.a.createElement(M,null,a)),i.a.createElement(w,null,"Data wa\u017cno\u015bci ",i.a.createElement(M,null,o)),i.a.createElement(E,{to:"/ApteczkaProject/editMedicine/".concat(t)},i.a.createElement("span",null,"edytuj")))},_=y.b.div.withConfig({displayName:"List__Wrapper",componentId:"zfclqd-0"})(["display:flex;flex-direction:column;align-items:center;padding-top:50px;"]),I=function(e){var t=e.medicines.filter((function(e){return!0===e.show}));return i.a.createElement(_,null,t.map((function(e){return i.a.createElement(j,{key:e.id,id:e.id,name:e.name,amount:e.amount,date:e.date})})))},z=y.b.div.withConfig({displayName:"Medicine__Wrapper",componentId:"sc-4zi35c-0"})(["display:flex;flex-direction:column;min-height:100vh;text-align:center;"]),A=y.b.h1.withConfig({displayName:"Medicine__Title",componentId:"sc-4zi35c-1"})(["margin-top:20px;color:white;"]),N=y.b.h1.withConfig({displayName:"Medicine__Empty",componentId:"sc-4zi35c-2"})(["margin:50px 20px;padding:100px 40px;background-color:rgba(245,245,245,0.3);border-radius:10%;color:black;"]),D=y.b.button.withConfig({displayName:"Medicine__ButtonAddNew",componentId:"sc-4zi35c-3"})(["width:100%;margin-bottom:20px;font-size:35px;color:white;background-color:transparent;border:none;"]),O=function(){return i.a.createElement(h.Consumer,null,(function(e){return i.a.createElement(z,null,i.a.createElement(A,null,"Apteczka"),e.medicines.length>0?i.a.createElement(i.a.Fragment,null,i.a.createElement(I,{medicines:e.medicines,handle:e.handle})):i.a.createElement(N,null,"Brak lek\xf3w"),i.a.createElement(D,null,i.a.createElement(E,{to:"/ApteczkaProject/addMedicine"},"Dodaj nowy lek")))}))},S=n(8),F=y.b.input.withConfig({displayName:"Inputs__Input",componentId:"sc-1n3r4yl-0"})(["color:white;padding:10px 0 10px 15px;margin-right:10px;background-color:transparent;border:none;border-left:1px solid black;border-bottom:1px solid black;::placeholder{font-size:300;color:white;}"]),P=Object(y.b)(F).withConfig({displayName:"Inputs__InputAmount",componentId:"sc-1n3r4yl-1"})(["width:50px;"]),L=function(e){var t=e.type,n=e.id,a=e.placeholder,o=e.autoComplete,l=e.value,c=e.onChange,r=e.minAmount,d=e.minDate;return i.a.createElement(i.a.Fragment,null,"text"===t&&i.a.createElement(F,{type:t,id:n,placeholder:a,autoComplete:o,value:l,onChange:c})||"tel"===t&&i.a.createElement(P,{type:t,id:n,placeholder:a,autoComplete:o,value:l,onChange:c,min:r})||"date"===t&&i.a.createElement(F,{type:t,id:n,placeholder:a,autoComplete:o,value:l,onChange:c,min:d}))};L.defaultProps={placeholder:"",autoComplete:"on",value:"",minAmount:"1",minDate:""};var T=L,q=y.b.label.withConfig({displayName:"Label__MedicineLabel",componentId:"sc-11ue4vq-0"})(["display:flex;justify-content:space-between;align-items:center;@media screen and (min-width:800px){.medicineLabel{margin:0 80px;}}"]),W=y.b.h2.withConfig({displayName:"Label__Title",componentId:"sc-11ue4vq-1"})(["font-size:20px;margin-left:10px;"]),B=function(e){var t=e.name,n=e.type,a=e.placeholder,o=e.value,l=e.onChange,c=e.children,r=e.autoComplete,d=e.minAmount,m=e.minDate;return i.a.createElement(q,{htmlFor:t},i.a.createElement(W,null,c),i.a.createElement(T,{type:n,id:t,placeholder:a,autoComplete:r,value:o,onChange:l,minAmount:d,minDate:m}))};B.defaultProps={placeholder:"",value:"",autoComplete:"on",minAmount:"1",minDate:""};var J=B,Z=y.b.div.withConfig({displayName:"Form__Wrapper",componentId:"sc-1janl74-0"})(["display:flex;flex-direction:column;align-items:center;min-height:100vh;"]),U=y.b.h1.withConfig({displayName:"Form__Title",componentId:"sc-1janl74-1"})(["margin:20px 0;color:white;"]),V=y.b.form.withConfig({displayName:"Form__FormAdd",componentId:"sc-1janl74-2"})(["width:100%;"]),G=y.b.div.withConfig({displayName:"Form__WrapperMedicine",componentId:"sc-1janl74-3"})(["padding:20px 5px;margin:30px 0;background:rgba(245,245,245,0.3);"]),H=y.b.button.withConfig({displayName:"Form__ButtonAdd",componentId:"sc-1janl74-4"})(["width:250px;height:50px;margin-top:20px;letter-spacing:2px;font-size:20px;font-weight:700;color:#a55f62;border:2px solid black;background-color:black;list-style:none;text-decoration:none;line-height:45px;text-align:center;"]),K=function(e){Object(p.a)(n,e);var t=Object(m.a)(n);function n(){var e;Object(r.a)(this,n);for(var a=arguments.length,i=new Array(a),o=0;o<a;o++)i[o]=arguments[o];return(e=t.call.apply(t,[this].concat(i))).state={nameMedicine:"",amountMedicine:"",dateMedicine:e.props.today},e.handleInputChange=function(t){if("tel"===t.target.type)t.target.value=t.target.value.replace(/[^0-9]+/,""),"0"===t.target.value?t.target.value="0":e.setState(Object(S.a)({},t.target.id,t.target.value));else if("text"===t.target.type)t.target.value=t.target.value.replace(/[^a-zA-Z]+/,""),e.setState(Object(S.a)({},t.target.id,t.target.value));else{var n=new Date(e.props.today);new Date(t.target.value)>=n&&e.setState(Object(S.a)({},t.target.id,t.target.value))}},e.handleClickSubmit=function(){var t=e.state,n=t.nameMedicine,a=t.amountMedicine,i=t.dateMedicine,o=n.charAt(0).toUpperCase()+n.slice(1);e.props.addMedicine(o,a,i)},e}return Object(d.a)(n,[{key:"render",value:function(){return i.a.createElement(Z,null,i.a.createElement(U,null,"Dodaj Lek"),i.a.createElement(V,null,i.a.createElement(G,null,i.a.createElement(J,{name:"nameMedicine",type:"text",placeholder:"Nazwa",autoComplete:"off",value:this.state.nameMedicine,onChange:this.handleInputChange},"Nazwa leku")),i.a.createElement(G,null,i.a.createElement(J,{name:"amountMedicine",type:"tel",placeholder:"0",autoComplete:"off",minAmount:"1",value:this.state.amountMedicine,onChange:this.handleInputChange},"Ilo\u015b\u0107 Tabletek")),i.a.createElement(G,null,i.a.createElement(J,{name:"dateMedicine",type:"date",minDate:this.props.today,value:this.state.dateMedicine,onChange:this.handleInputChange},"Data wa\u017cno\u015bci"))),this.state.nameMedicine.length>2&&this.state.amountMedicine.length>0?i.a.createElement(E,{to:"/ApteczkaProject/",onClick:this.handleClickSubmit},i.a.createElement(H,null,"DODAJ")):i.a.createElement(E,{to:"/ApteczkaProject/AddMedicine/"},i.a.createElement(H,null,"DODAJ")))}}]),n}(i.a.Component),Q=function(){return i.a.createElement(h.Consumer,null,(function(e){return i.a.createElement(K,{addMedicine:e.addMedicine,handle:e.handle,today:e.today})}))},R=y.b.div.withConfig({displayName:"FormEdit__Wrapper",componentId:"yhj9m5-0"})(["display:flex;flex-direction:column;align-items:center;min-height:100vh;"]),X=y.b.h1.withConfig({displayName:"FormEdit__Title",componentId:"yhj9m5-1"})(["margin:20px 0;color:white;"]),Y=y.b.form.withConfig({displayName:"FormEdit__FormAdd",componentId:"yhj9m5-2"})(["width:100%;"]),$=y.b.div.withConfig({displayName:"FormEdit__WrapperMedicine",componentId:"yhj9m5-3"})(["padding:20px 5px;margin:30px 0;background:rgba(245,245,245,0.3);"]),ee=y.b.button.withConfig({displayName:"FormEdit__ButtonAdd",componentId:"yhj9m5-4"})(["width:250px;height:50px;margin-top:20px;letter-spacing:2px;font-size:20px;font-weight:700;color:#a55f62;border:2px solid black;background-color:black;list-style:none;text-decoration:none;line-height:45px;text-align:center;cursor:pointer;"]),te=function(e){Object(p.a)(n,e);var t=Object(m.a)(n);function n(){var e;Object(r.a)(this,n);for(var a=arguments.length,i=new Array(a),o=0;o<a;o++)i[o]=arguments[o];return(e=t.call.apply(t,[this].concat(i))).state={id:"",nameMedicine:"",amountMedicine:"",dateMedicine:""},e.handleInputChange=function(t){if("tel"===t.target.type)t.target.value=t.target.value.replace(/[^0-9]+/,""),"0"===t.target.value?t.target.value="0":e.setState(Object(S.a)({},t.target.id,t.target.value));else if("text"===t.target.type)t.target.value=t.target.value.replace(/[^a-zA-Z]+/,""),e.setState(Object(S.a)({},t.target.id,t.target.value));else{var n=new Date(e.props.today);new Date(t.target.value)>=n&&e.setState(Object(S.a)({},t.target.id,t.target.value))}},e.handleClickSubmit=function(){var t=e.state,n=t.id,a=t.nameMedicine,i=t.amountMedicine,o=t.dateMedicine,l=a.charAt(0).toUpperCase()+a.slice(1);e.props.changeMedicine(n,l,i,o)},e}return Object(d.a)(n,[{key:"componentDidMount",value:function(){var e=this;f.a.get("http://localhost:3000/ApteczkaProject/editMedicine/"+this.props.url.params.id).then((function(t){e.setState({id:t.data._id,nameMedicine:t.data.name,amountMedicine:t.data.amount.toString(),dateMedicine:t.data.expiryDate.slice(0,10)})}))}},{key:"render",value:function(){return i.a.createElement(R,null,i.a.createElement(X,null,"Edytuj Lek"),i.a.createElement(Y,null,i.a.createElement(i.a.Fragment,null,i.a.createElement($,null,i.a.createElement(J,{name:"nameMedicine",type:"text",placeholder:"Nazwa",autoComplete:"off",value:this.state.nameMedicine,onChange:this.handleInputChange},"Nazwa leku")),i.a.createElement($,null,i.a.createElement(J,{name:"amountMedicine",type:"tel",placeholder:"0",autoComplete:"off",minAmount:"1",value:this.state.amountMedicine,onChange:this.handleInputChange},"Ilo\u015b\u0107 Tabletek")),i.a.createElement($,null,i.a.createElement(J,{name:"dateMedicine",type:"date",minDate:this.props.today,value:this.state.dateMedicine,onChange:this.handleInputChange},"Data wa\u017cno\u015bci")))),this.state.nameMedicine.length>2&&this.state.amountMedicine.length>0?i.a.createElement(E,{to:"/ApteczkaProject",onClick:this.handleClickSubmit},i.a.createElement(ee,null,"Zapisz zmiany")):i.a.createElement(E,{to:"/ApteczkaProject/editMedicine"},i.a.createElement(ee,null,"Zapisz zmiany")))}}]),n}(i.a.Component),ne=function(e){var t=e.match;return i.a.createElement(h.Consumer,null,(function(e){return i.a.createElement(te,{medicines:e.medicines,changeMedicine:e.changeMedicine,target:e.target,today:e.today,url:t})}))};function ae(){var e=Object(b.a)(["\n  padding-top: 30%;\n  text-align: center;\n  color: white;\n"]);return ae=function(){return e},e}var ie=y.b.h1(ae()),oe=function(){return i.a.createElement(i.a.Fragment,null,i.a.createElement(ie,null,"Sorry, databse is down."))},le=function(e){Object(p.a)(n,e);var t=Object(m.a)(n);function n(){var e;Object(r.a)(this,n);for(var a=arguments.length,i=new Array(a),o=0;o<a;o++)i[o]=arguments[o];return(e=t.call.apply(t,[this].concat(i))).state={response:!0,id:"",today:(new Date).toISOString().slice(0,10),medicines:[]},e.addMedicine=function(t,n,a){var i={name:t,amount:Number(n),expiryDate:a};e.setState((function(e){return{medicines:[].concat(Object(c.a)(e.medicines),[i])}})),f.a.post("http://localhost:3000/ApteczkaProject/addMedicine",i).then((function(e){return console.log(e.data)}))},e.changeMedicine=function(t,n,a,i){var o=e.state.medicines;o[t]={id:t,name:n,amount:a,date:i},e.setState({medicines:o,id:t});var l={name:n,amount:a,expiryDate:i};f.a.post("http://localhost:3000/ApteczkaProject/editMedicine/update/"+t,l).then((function(e){return console.log(e.data)}))},e}return Object(d.a)(n,[{key:"componentDidMount",value:function(){var e=this;f.a.get("http://localhost:3000/ApteczkaProject").then((function(t){t.data.length>0&&e.setState({medicines:t.data.map((function(e){return{id:e._id,name:e.name,amount:e.amount,date:e.expiryDate.slice(0,10),show:!0}}))})})).catch((function(t){console.log("Cannot get response database "+t),e.setState({response:!1})}))}},{key:"componentDidUpdate",value:function(e,t){var n=this;t.medicines.length!==this.state.medicines.length&&f.a.get("http://localhost:3000/ApteczkaProject").then((function(e){n.setState({medicines:e.data.map((function(e){return{id:e._id,name:e.name,amount:e.amount,date:e.expiryDate.slice(0,10),show:!0}}))})}))}},{key:"render",value:function(){var e={today:this.state.today,medicines:this.state.medicines,addMedicine:this.addMedicine,changeMedicine:this.changeMedicine};return i.a.createElement(u.a,null,i.a.createElement(v,null),this.state.response?i.a.createElement(h.Provider,{value:e},i.a.createElement(s.c,null,i.a.createElement(s.a,{exact:!0,path:"/ApteczkaProject",component:O}),i.a.createElement(s.a,{path:"/ApteczkaProject/addMedicine",component:Q}),i.a.createElement(s.a,{path:"/ApteczkaProject/editMedicine/:id",component:ne}))):i.a.createElement(oe,null))}}]),n}(i.a.Component);l.a.render(i.a.createElement(le,null),document.getElementById("root"))}},[[40,1,2]]]);
//# sourceMappingURL=main.d002d250.chunk.js.map